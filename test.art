import ./{tasks}!

routine 'greet [
    |> 'echo {Initializing the routine...}
]

routine 'createTempDir [
    |> 'echo {Creating dir...}
]

routine 'removeTempDir [
    |> 'echo {Removing dir...}
]


task 'setup .requires: [greet] []

task 'test .requires: [greet, setup, createTempDir] .defers: [removeTempDir] []

ensure.that: "Argument needed for this script" 
    -> not? empty? arg

executeTask arg\0